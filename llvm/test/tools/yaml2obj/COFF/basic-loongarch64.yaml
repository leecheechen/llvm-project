# RUN: yaml2obj %s -o %t
# RUN: llvm-readobj --file-headers --relocs %t | FileCheck %s
# RUN: obj2yaml %t | FileCheck %s --check-prefix=ROUNDTRIP

# CHECK: Format: COFF-LoongArch64
# CHECK: Arch: loongarch64
# CHECK: Machine: IMAGE_FILE_MACHINE_LOONGARCH64 (0x6264)
# CHECK: Relocations [
# CHECK:  Section (1) .text {
# CHECK:    0x4 IMAGE_REL_LARCH_BRANCH26 main (0)
# CHECK:  }
# CHECK: ]

# ROUNDTRIP:      Machine: IMAGE_FILE_MACHINE_LOONGARCH64
# ROUNDTRIP:      Relocations:
# ROUNDTRIP-NEXT: - VirtualAddress: 4
# ROUNDTRIP-NEXT:   SymbolName:     main
# ROUNDTRIP-NEXT:   Type:           IMAGE_REL_LARCH_BRANCH26

--- !COFF
header:
  Machine:         IMAGE_FILE_MACHINE_LOONGARCH64
sections:
  - Name:            .text
    Characteristics: [ IMAGE_SCN_CNT_CODE, IMAGE_SCN_MEM_EXECUTE, IMAGE_SCN_MEM_READ ]
    VirtualSize:     12
    SectionData:     000000000000000C00000000
    Relocations:
      - VirtualAddress:  4
        SymbolName:      main
        Type:            IMAGE_REL_LARCH_BRANCH26
symbols:
  - Name: main
    Value: 0
    SectionNumber: 1
    SimpleType: IMAGE_SYM_TYPE_NULL
    ComplexType: IMAGE_SYM_DTYPE_NULL
    StorageClass: IMAGE_SYM_CLASS_EXTERNAL
...
